---
- name: Ensure that /opt/sfmix exists
  become: true
  ansible.builtin.file:
    path: /opt/sfmix
    state: directory
    owner: sfmix
    group: sfmix
    mode: ug=rwx,o=r

- name: Place ansible vault secret file
  become: true
  ansible.builtin.copy:
    dest: /opt/sfmix/ansible_vault_secret
    content: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      32653837633839616630323133393736393561643364393534376365393634306661333663633933
      3264303361336231643662353266373932623435343833380a353965326162626337376437363165
      32386232633663333236306661666131396235616562626561363733656631633563636530346361
      6166643035653833300a383661626132383632373264653135373237386238646536663766373263
      30656462313537373864343433373731666362333035356462663739363834633939
    owner: sfmix
    group: sfmix
    mode: ug=r,o=
